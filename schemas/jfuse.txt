root ::= {pharmacy: arr_pharmacy, emar: arr_emar}

arr_pharmacy ::= [obj_pharmacy]
arr_emar ::= [obj_emar]

obj_pharmacy ::= pharmacy_id:Rk, 
                 subject_id:R, 
                 hadm_id:R, 
                 poe_id:S,
                 starttime:TS, 
                 stoptime:TS, 
                 medication:S,
                 proc_type:[IV Piggyback, ...], 
                 status:[Dispensed, In-Progress, ...],
                 entertime:TS, 
                 verifiedtime:TS, 
                 route:[IV, PO, ...], 
                 frequency:S,
                 disp_sched:S, 
                 infusion_type:S, 
                 sliding_scale:[N, Y],
                 lockout_interval:null, 
                 basal_rate:R, 
                 one_hr_max:null,
                 doses_per_24_hrs:R, 
                 duration:R,
                 duration_interval:[Hours, Days, ...], 
                 expiration_value:R,
                 expiration_unit:[Hours, Days, ...], 
                 expirationdate:TS,
                 dispensation:[Main Pharmacy, ...], 
                 fill_quantity:S,
                 administration_details:arr_emar_details

arr_emar_details ::= [obj_emar_details]

obj_emar_details ::= subject_id:R,
                     emar_id:Sk, 
                     emar_seq:R,
                     parent_field_ordinal:R, 
                     administration_type:S,
                     pharmacy_id:R, 
                     barcode_type:[OUT, ...], 
                     reason_for_no_barcode:null,
                     complete_dose_not_given:[N, Y], 
                     dose_due:S, 
                     dose_due_unit:S,
                     dose_given:S, 
                     dose_given_unit:S,
                     will_remainder_of_dose_be_given:[N, Y],
                     product_amount_given:S, 
                     product_unit:S, 
                     product_code:S,
                     product_description:S, 
                     product_description_other:null,
                     prior_infusion_rate:null, 
                     infusion_rate:S,
                     infusion_rate_adjustment:S,
                     infusion_rate_adjustment_amount:null, 
                     infusion_rate_unit:S,
                     route:[IV, PO, ...], 
                     infusion_complete:[Y, N], 
                     completion_interval:S,
                     new_iv_bag_hung:[Y, N],
                     continued_infusion_in_other_location:[N, Y],
                     restart_interval:null, 
                     side:[Esquerdo, Direito, ...], 
                     site:S,
                     non_formulary_visual_verification:[Y, N]

obj_emar ::= emar_id:Sk, 
             emar_seq:R, 
             subject_id:R, 
             hadm_id:R, 
             poe_id:S,
             pharmacy_id:R, 
             charttime:TS, 
             medication:S,
             event_txt:[Administered, Held, ...], 
             scheduletime:TS, 
             storetime:TS
             